(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(21),o=n.n(c),i=n(11),s=n(25),u=n(27),l=n(18),p=n(92),d="FLICKR_IMAGES_SUCCESS",h="FLICKR_VIDEOS_SUCCESS",m="SEARCH_IMAGES_REQUEST",f="SEARCH_VIDEOS_REQUEST",b="SEARCH_IMAGES_ERROR",g="SEARCH_VIDEOS_ERROR",v="PAGES_COUNT",E=n(19);function x(e){return Object(E.Map)(e).getIn(["pageNum"],null)}var j={images:Object(E.Map)({photos:[],pageNum:1}),videos:[]},O=n(93),w=Object(l.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.images,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return function(e,t){return Object(E.Map)(e).updateIn(["photos"],function(e){return e.concat(t)})}(e,t.images);case v:return function(e,t){return Object(E.Map)(e).updateIn(["pageNum"],function(e){return t})}(e,t.pageNum);case b:return Object(u.a)({},e,{error:t.error});default:return e}},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.videos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return[].concat(Object(O.a)(e),[t.videos]);case g:return Object(u.a)({},e,{error:t.error});default:return e}}}),y=n(7),k=n.n(y),_=n(6),S=n(50),N="2317374178393202f1f1dae53c5ac54a",C="151365639@N02",I="72157687093937245",R="72157684564501003";function A(e){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(k.a.mark(function e(t){var n,r,a,c,o,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.flickr.com/services/rest/?method=flickr.photosets.getInfo&api_key=".concat(N,"&photoset_id=").concat(I,"&user_id=").concat(C,"&format=json&nojsoncallback=1"),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return r=e.sent,a=Math.ceil(r.photoset.count_photos/100)||1,c=void 0!==t?t:a,o="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos\n\t&api_key=".concat(N,"\n\t&format=json\n\t&nojsoncallback=1\n\t&per_page=100\n\t&page=").concat(c,"\n\t&user_id=").concat(C,"\n\t&photoset_id=").concat(I,"\n\t&extras=date_taken,o_dims,url_o"),e.next=12,fetch(o);case 12:return i=e.sent,e.next=15,i.json();case 15:return i=e.sent,e.abrupt("return",{photos:i.photoset.photo.reverse().map(function(e){var t=e.farm,n=e.server,r=e.id,a=e.secret,c=e.title,o=e.url_o,i=e.height_o,s=e.width_o,u=e.datetaken;return{id:r,title:c,mediaUrl:"https://farm".concat(t,".staticflickr.com/").concat(n,"/").concat(r,"_").concat(a,".jpg"),width:s,height:i,oUrl:o,datetaken:u}}),pageNum:a});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){return M.apply(this,arguments)}function M(){return(M=Object(S.a)(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos\n\t&api_key=".concat(N,"\n\t&format=json\n\t&nojsoncallback=1\n\t&per_page=100\n\t&user_id=").concat(C,"\n\t&photoset_id=").concat(R,"\n\t&extras=date_upload"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,e.abrupt("return",n.photoset.photo.reverse().map(function(e){var t=e.id,n=e.secret;return{id:t,title:e.title,mediaUrl:"https://www.flickr.com/photos/".concat(C,"/").concat(t,"/play/site/").concat(n)}}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P=k.a.mark(H);function H(e){var t,n,r,a;return k.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e?e.pageNum:void 0,c.prev=1,c.next=4,Object(_.b)(A,t);case 4:return n=c.sent,r=n.photos,a=n.pageNum,c.next=9,Object(_.a)([Object(_.d)({type:d,images:r}),Object(_.d)({type:v,pageNum:t||a})]);case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(_.d)({type:b,error:"An error occurred during fetching the images. Please try again later or contact me at mihail.gaberov@gmail.com"});case 15:case"end":return c.stop()}},P,null,[[1,11]])}var T=k.a.mark(V);function V(){var e,t;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_.a)({videos:Object(_.b)(D)});case 3:return e=n.sent,t=e.videos,n.next=7,Object(_.a)([Object(_.d)({type:h,videos:t})]);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(_.d)({type:g,error:"An error occurred during fetching the videos. Please try again later or contact me at mihail.gaberov@gmail.com"});case 13:case"end":return n.stop()}},T,null,[[0,9]])}var G=k.a.mark(W),L=k.a.mark(X);function W(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.e)(m,H);case 2:case"end":return e.stop()}},G)}function X(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.e)(f,V);case 2:case"end":return e.stop()}},L)}var F=k.a.mark(J);function J(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.c)(W);case 2:return e.next=4,Object(_.c)(X);case 4:case"end":return e.stop()}},F)}var K=function(){var e=Object(p.a)();return Object(u.a)({},Object(l.d)(w,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(l.a)(e)),{runSaga:e.run(J)})},Q=n(22),z=n(23),B=n(26),q=n(24),Y=n(28),Z=n(16),$=n(17);function ee(){var e=Object(Z.a)(["\n  width: 100%;\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-evenly;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  background-color: #333;\n  \n  li {\n    width: 100%;\n    a {\n      display: block;\n      color: white;\n      text-align: center;\n      padding: 14px 16px;\n      text-decoration: none;\n        \n      &:hover {\n        background-color: #111;\n      }\n      \n      &.active {\n        background-color: #111;\n        border-bottom: 3px solid #ccc;\n      }\n      \n      i {\n        float: left;\n      }\n    }  \n  }\n"]);return ee=function(){return e},e}var te=$.a.ul(ee()),ne=function(){return a.a.createElement(te,null,a.a.createElement("li",null,a.a.createElement(i.a,{to:"/",activeClassName:"active"},a.a.createElement("i",{className:"fa fa-camera-retro","aria-hidden":"true"}),"Photos")),a.a.createElement("li",null,a.a.createElement(i.c,{to:"videos",activeClassName:"active"},a.a.createElement("i",{className:"fa fa-video-camera","aria-hidden":"true"}),"Videos")))},re=function(e){function t(){return Object(Q.a)(this,t),Object(B.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(ne,null),this.props.children)}}]),t}(r.Component),ae=n(38),ce=n.n(ae),oe=n(33),ie=n.n(oe),se=function(e){return{type:m,pageNum:e}};function ue(){var e=Object(Z.a)(["\n color: red;\n font-weight: bold;\n"]);return ue=function(){return e},e}var le=$.a.div(ue()),pe=function(){return a.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"})};n(56);function de(){var e=Object(Z.a)(["\n  text-align: center;\n  margin-top: 48px;\n  \n  a {\n    text-decoration: none;\n    position: relative;\n    \n    h2 { \n      position: absolute; \n      bottom: 0; \n      right: 0; \n  \n      span {\n        font: bold 16px/33px Helvetica, Sans-Serif; \n        letter-spacing: -1px;  \n        background: rgb(0, 0, 0); /* fallback color */\n        background: rgba(0, 0, 0, 0.7);\n        padding: 10px; \n        position: relative;\n        left: 0;\n        bottom: 21px;\n        color: white;\n      }\n    }\n  }  \n    \n  img {\n    margin: 0 2px;\n  }\n"]);return de=function(){return e},e}var he=$.a.div(de());function me(){var e=Object(Z.a)(["\n    width: 100%;\n    min-height: 220px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n    i {\n      color: white;\n    }\n"]);return me=function(){return e},e}var fe=$.a.div(me()),be=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(B.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).getScrollPercent=function(){return(document.documentElement.scrollTop||document.body.scrollTop)/((document.documentElement.scrollHeight||document.body.scrollHeight)-document.documentElement.clientHeight)*100},n.fetchNewDataChunk=function(){var e=!1;return function(t){e||(e=!0,n.props.dispatch(se(--t)))}},n}return Object(Y.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(se())}},{key:"render",value:function(){var e=this,t=this.props.pageNum,n=this.props,r=n.images,c=n.imagesError,o={containerWidth:window.innerWidth,containerPadding:{top:0,right:14,bottom:0,left:14}},i=r?r.map(function(e){return{width:e.width,height:e.height}}):[],s=ce()(i,o);return window.onscroll=function(){e.getScrollPercent()>98&&t>1&&e.fetchNewDataChunk()(t)},a.a.createElement("div",null,c?a.a.createElement(le,null,c):r&&s.boxes.length>0?a.a.createElement(he,{style:{height:s.containerHeight+"px"}},r.map(function(e,t){return a.a.createElement(ie.a,{key:t,height:s.boxes[t].height},a.a.createElement("a",{href:e.oUrl},a.a.createElement("img",{src:e.mediaUrl,alt:e.datetaken,title:e.datetaken,style:{width:"".concat(s.boxes[t].width,"px"),top:"".concat(s.boxes[t].top,"px"),left:"".concat(s.boxes[t].left,"px")}}),a.a.createElement("h2",null,a.a.createElement("span",null,e.datetaken))))})):a.a.createElement(fe,null,a.a.createElement(pe,null)))}}]),t}(r.Component),ge=Object(s.b)(function(e){var t,n=e.images,r=e.error;return{images:(t=n,Object(E.Map)(t).getIn(["photos"],null)),pageNum:x(n),imagesError:r}})(be),ve=n(91),Ee=(n(133),function(e){function t(){return Object(Q.a)(this,t),Object(B.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:f})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.videosError,r={containerWidth:window.innerWidth,forceAspectRatio:1,containerPadding:{top:0,right:14,bottom:0,left:14}},c=t?Array.from(new Array(t.length),function(){return 1}):[],o=ce()(c,r);return a.a.createElement("div",null,n?a.a.createElement(le,null,n):t&&o.boxes.length>0?a.a.createElement(he,{style:{height:o.containerHeight+"px"}},t.map(function(e,t){return a.a.createElement(ie.a,{key:t,height:o.boxes[t].height},a.a.createElement(ve.Player,{style:{width:"".concat(o.boxes[t].width,"px"),top:"".concat(o.boxes[t].top,"px"),left:"".concat(o.boxes[t].left,"px")},playsInline:!0},a.a.createElement("source",{src:e.mediaUrl})))})):a.a.createElement(fe,null,a.a.createElement(pe,null)))}}]),t}(r.Component)),xe=Object(s.b)(function(e){var t=e.videos,n=e.error;return{videos:t[0],videosError:n}})(Ee),je=a.a.createElement(i.d,{path:"/",component:re},a.a.createElement(i.b,{component:ge}),a.a.createElement(i.d,{path:"videos",component:xe})),Oe=K();o.a.render(a.a.createElement(s.a,{store:Oe},a.a.createElement(i.e,{history:i.f,routes:je})),document.getElementById("root"))},56:function(e,t,n){},94:function(e,t,n){e.exports=n(134)}},[[94,1,2]]]);
//# sourceMappingURL=main.75f2ba95.chunk.js.map